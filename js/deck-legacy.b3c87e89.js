(function(){var e={34295:function(e,t,n){"use strict";var r=n(74639),o=n(29284),a=(n(69024),n(83744));const i=(0,a.Z)(o.Z,[["render",r.s],["__scopeId","data-v-605b8a64"]]);t["Z"]=i},8670:function(e,t,n){"use strict";var r=n(36032),o=n(8546),a=(n(80396),n(83744));const i=(0,a.Z)(o.Z,[["render",r.s],["__scopeId","data-v-96011ed4"]]);t["Z"]=i},76578:function(e,t,n){"use strict";n.d(t,{aA:function(){return h},dm:function(){return p}});var r=n(6050),o=n(95082),a=(n(68309),n(27254)),i=n(12195),s=n(51323),c=n(4083),l=n(86245),d=n(72218),u={AM:0,EU:1,APAC:2},p=["AM","EU","APAC"],h=["americas","europe","apac"],f="lmt-settings-leaderboard-region",g={components:{LeaderboardPlayer:a.Z,LadderHighlight:d.Z},mounted:function(){var e=this,t=window.localStorage.getItem(f);t&&(this.activeRegionID=t),this.fetchLeaderboard(this.activeRegionID),setTimeout((function(){e.$refs.leaderboardInput.focus()}),25)},data:function(){return{rawPlayers:[],activeRegionID:0,regions:u,request:null,searchText:"",signedIn:!1,dataStartTime:0,selectedIndex:0,REGION_SHORTS:p,dateFNSLocales:s.dateFNSLocales,inputFocused:!1}},emits:{search:function(e){var t=e.region,n=e.name,r=e.tag;return!!(t&&n&&r)||(console.warn("Invalid submit event payload!"),!1)}},computed:(0,o.Z)((0,o.Z)({},(0,l.rn)(c.P,{leaderboard:"leaderboard",isLoading:"leaderboardLoading",updateTime:"leaderboardUpdateTime"})),{},{filteredPlayers:function(){if(!this.leaderboard||!this.leaderboard[this.activeRegionID])return null;if(this.searchText){for(var e=this.searchText,t=[],n=this.leaderboard[this.activeRegionID],r=0;r<n.length;r++)-1!==n[r].name.toLowerCase().indexOf(e.toLowerCase())&&t.push(n[r]);return t.push({name:e,rank:"",lp:0,deck:null,winRate:0,lastRankTime:""}),t}return this.leaderboard[this.activeRegionID]},searchPlaceHolder:function(){return this.leaderboard&&this.leaderboard[this.activeRegionID]?this.$t("search.leaderboard.numPlayer",{num:this.leaderboard[this.activeRegionID].length}):this.$t("search.leaderboard.base")}}),methods:(0,o.Z)((0,o.Z)({},(0,l.nv)(c.P,["fetchLeaderboard"])),{},{formatDistanceStrict:i.Z,selectTopItem:function(){var e=this.$refs.scroller,t=e.$el,n=Math.ceil(t.scrollTop/64);this.selectedIndex=n},onInputFocus:function(){this.inputFocused=!0,this.selectTopItem()},onInputBlur:function(){this.inputFocused=!1},setLeaderBoardPlayerRefs:function(e){e&&console.log(e)},onKeyUp:function(e){var t=this.$refs.scroller,n=t.$el;if("ArrowDown"==e.key)if(this.selectedIndex+=1,this.selectedIndex>this.filteredPlayers.length-1)this.selectedIndex=0,t.scrollToItem(0);else{var r=64*this.selectedIndex-n.getBoundingClientRect().height+64;n.scrollTop<r&&this.$refs.scroller.scrollToPosition(r)}else if("ArrowUp"==e.key)if(this.selectedIndex-=1,this.selectedIndex<0)this.selectedIndex=this.filteredPlayers.length-1,this.$refs.scroller.scrollToItem(this.selectedIndex);else{var o=64*this.selectedIndex;n.scrollTop>o&&this.$refs.scroller.scrollToItem(this.selectedIndex)}else if("Enter"==e.key){var a=this.filteredPlayers[this.selectedIndex];this.searchPlayer(a)}else this.filteredPlayers.length>5?this.selectTopItem():this.selectedIndex=this.filteredPlayers.length-1},clearSearch:function(){this.searchText="",document.querySelector("#search-input").focus()},switchRegion:function(e){this.sendUserEvent({category:"Main Window Leaderboard",action:"Select Region",label:h[e],value:null}),this.activeRegionID!=e&&(this.fetchLeaderboard(e),this.activeRegionID=e,window.localStorage.setItem(f,e))},searchPlayer:function(e){e.tag?this.$router.push({name:"search",query:{name:e.name,tag:e.tag,region:p[this.activeRegionID]}}):this.$router.push({name:"search",query:{name:e.name}})}})},m=(n(23461),n(83744));r.s},64477:function(e,t,n){"use strict";n.d(t,{v:function(){return o.v}});var r=n(31228),o=n(45786),a=(n(80569),n(83744));o.Z,r.s},93519:function(e,t,n){"use strict";n(41539),n(54747);var r=n(19120),o=[],a={};r.forEach((function(e){e.forEach((function(e){if("Champion"==e.rarityRef&&e.collectible){var t=e.cardCode;o.push(t),a[t]=t}}))})),t["Z"]={champions:o,champObj:a}},58238:function(e){e.exports={isLocalApiEnable:!0,language:"en-US",lorRunning:!0,playerId:"FlyingFish#1111",port:"21337",server:"americas"}},45477:function(e){e.exports={deck_tracker:{cardsInDeck:{"01DE007":1,"01DE015":2,"01DE026":3,"02DE001":2,"03DE006":2,"03DE008":3,"03DE014":3,"03MT003":1,"03MT009":3,"03MT035":2,"03MT051":2,"03MT057":3,"03MT085":1,"03MT086":2,"03MT087":3,"03MT096":2,"03MT100":2,"05BC175":3},cardsInHandNum:0,currentDeckCode:"CQBQCBIKV4AQEAYABAHAEAYJHFLQIAICAAAQCAYAAYBACAAPDICAGCIJENQGIAQBAEAAOAYDBEBVKVQ",deckCode:"CQCACAIADIAQKCVPAEBAGAAIBYBQGCIJHFLQIAIBAAHQCAQAAEAQGAAGAUBQSIZTKZQGIAQBAEAAOAQDBEBVK",myGraveyard:{},myGraveyardCode:"CEAAAAA",myPlayedCards:{"01DE007":1,"01DE015":2,"01DE026":3,"02DE001":2,"03DE006":2,"03DE008":3,"03DE014":3,"03MT003":1,"03MT009":3,"03MT035":2,"03MT051":2,"03MT057":3,"03MT085":1,"03MT086":2,"03MT087":3,"03MT096":2,"03MT100":2,"05BC175":3},myPlayedCardsCode:"CQCACAIADIAQKCVPAEBAGAAIBYBQGCIJHFLQIAIBAAHQCAQAAEAQGAAGAUBQSIZTKZQGIAQBAEAAOAQDBEBVK",opGraveyard:{"01IO009":1,"01IO009T1":1,"03NX001":1},opGraveyardCode:"CEAAAAQBAEBASAIDAMAQ",openHand:{},opponentName:"decks_easythresh_name",opponentTag:null,replacedHand:{},timeline:[{CardCode:"face",CardID:40432923,Height:117,LocalPlayer:!1,TopLeftX:179,TopLeftY:716,Width:117,playTime:"2021-11-05T15:35:28.612171",showTime:"2021-11-05T15:35:28.612171"}]},positional_rectangles:{GameState:"InProgress",OpponentName:"Lumus11",PlayerName:"FlyingFish",Rectangles:[{CardCode:"face",CardID:2046151542,Height:117,LocalPlayer:!0,TopLeftX:179,TopLeftY:481,Width:117},{CardCode:"face",CardID:40432923,Height:117,LocalPlayer:!1,TopLeftX:179,TopLeftY:716,Width:117}],Screen:{ScreenHeight:1080,ScreenWidth:1920}}}},22335:function(e,t,n){var r=n(40002)["default"],o=n(62547)["default"],a=n(83515)["default"];n(74916),n(23123);var i=n(11540);e.exports=function(){"use strict";function e(t,n){o(this,e),this.code=t,this.count=n}return a(e,[{key:"set",get:function(){return parseInt(this.code.substring(0,2))}},{key:"faction",get:function(){return i.fromCode(this.code.substring(2,4))}},{key:"id",get:function(){return parseInt(this.code.substring(4,7))}},{key:"version",get:function(){return i.getVersion(this.code.substring(2,4))}}],[{key:"from",value:function(e,t,n,r){return new this(e+t+n,r)}},{key:"fromCardString",value:function(e){var t=e.split(":"),n=r(t,2),o=n[0],a=n[1];return new this(a,parseInt(o))}}]),e}()},99981:function(e,t,n){var r=n(74548)["default"],o=n(67273)["default"],a=n(62547)["default"],i=n(83515)["default"];n(83112),n(41539),n(39714),n(57327),n(92222),n(2707),n(40561),n(21249);var s=n(81604),c=n(85632),l=n(22335),d=n(11540),u=function(){"use strict";function e(){a(this,e)}return i(e,null,[{key:"decode",value:function(t){var n=[],r=null;try{r=s.decode(t)}catch(E){throw new TypeError("Invalid deck code")}var o=r.shift(),a=o>>4,i=15&o;if(a!==e.FORMAT)throw new TypeError("The provided code does not match the required format.");if(i>e.MAX_KNOWN_VERSION)throw new TypeError("The provided code requires a higher version of this library; please update.");for(var u=3;u>0;u--)for(var p=c.pop(r),h=0;h<p;h++)for(var f=c.pop(r),g=c.pop(r),m=c.pop(r),y=0;y<f;y++){var v=c.pop(r),b=g.toString().padStart(2,"0"),k=d.fromID(m).shortCode,w=v.toString().padStart(3,"0");n.push(l.from(b,k,w,u))}while(r.length>0){var x=c.pop(r),C=c.pop(r),T=c.pop(r),I=c.pop(r),A=C.toString().padStart(2,"0"),D=d.fromID(T).shortCode,_=I.toString().padStart(3,"0");n.push(l.from(A,D,_,x))}return n}},{key:"encode",value:function(t){if(!this.isValidDeck(t))throw new TypeError("The deck provided contains invalid card codes");var n=this.groupByFactionAndSetSorted(t.filter((function(e){return 3===e.count}))),r=this.groupByFactionAndSetSorted(t.filter((function(e){return 2===e.count}))),a=this.groupByFactionAndSetSorted(t.filter((function(e){return 1===e.count}))),i=t.filter((function(e){return e.count>3}));return s.encode([e.FORMAT<<4|15&t.reduce((function(e,t){return Math.max(e,t.version)}),0)].concat(o(this.encodeGroup(n)),o(this.encodeGroup(r)),o(this.encodeGroup(a)),o(this.encodeNofs(i))))}},{key:"encodeNofs",value:function(e){return e.sort((function(e,t){return e.code.localeCompare(t.code)})).reduce((function(e,t){return e.push.apply(e,o(c.get(t.count))),e.push.apply(e,o(c.get(t.set))),e.push.apply(e,o(c.get(t.faction.id))),e.push.apply(e,o(c.get(t.id))),e}),[])}},{key:"encodeGroup",value:function(e){return e.reduce((function(e,t){e.push.apply(e,o(c.get(t.length)));var n=t[0];e.push.apply(e,o(c.get(n.set))),e.push.apply(e,o(c.get(n.faction.id)));var a,i=r(t);try{for(i.s();!(a=i.n()).done;){var s=a.value;e.push.apply(e,o(c.get(s.id)))}}catch(l){i.e(l)}finally{i.f()}return e}),c.get(e.length))}},{key:"isValidDeck",value:function(e){return e.every((function(e){return 7===e.code.length&&!isNaN(e.id)&&!isNaN(e.count)&&e.faction&&e.count>0}))}},{key:"groupByFactionAndSetSorted",value:function(e){var t=[];while(e.length>0){var n=[],r=e.shift();n.push(r);for(var o=e.length-1;o>=0;o--){var a=e[o];r.set===a.set&&r.faction.id===a.faction.id&&(n.push(a),e.splice(o,1))}t.push(n)}return t.sort((function(e,t){return e.length-t.length})).map((function(e){return e.sort((function(e,t){return e.code.localeCompare(t.code)}))}))}}]),e}();u.MAX_KNOWN_VERSION=5,u.FORMAT=1,u.INITIAL_VERSION=1,e.exports=u},34069:function(e,t,n){"use strict";n(66992),n(88674),n(19601),n(17727);var r=n(66252),o=n(3577),a={class:"flex h-full max-w-[290px] flex-col pt-[35px] text-white 2xs:pt-[45px]"},i={class:"flex h-full flex-col"},s={key:0,class:"px-1 pt-2"},c={key:1,class:"flex w-full justify-around gap-1 px-1 text-gray-200"},l=(0,r._)("i",{class:"fas fa-telescope"},null,-1),d=[l],u=(0,r._)("i",{class:"fas fa-user-cowboy"},null,-1),p=[u],h=(0,r._)("i",{class:"fas fa-tombstone"},null,-1),f=[h],g={class:"mt-1 h-0 flex-1 overflow-y-auto",ref:"scrollContainer"},m={key:0,class:"px-1 pt-1"},y={key:0,class:"pt-1.5 pb-2 text-center"},v={key:1,class:""},b={key:1},k={key:2},w={class:"sticky top-0 z-10 bg-gray-900 py-1 px-2 text-left text-xs text-gray-200 2xs:text-sm"},x=(0,r._)("i",{class:"fas fa-axe-battle"},null,-1),C={key:3},T={class:"sticky top-0 z-10 bg-gray-900 py-1 px-2 text-left text-xs text-gray-200 2xs:text-sm"},I=(0,r._)("i",{class:"fas fa-sword"},null,-1),A={key:4},D=(0,r._)("div",{class:""},null,-1),_={key:2,class:"flex h-8 w-full flex-col justify-center text-base 2xs:h-10"},E={class:"flex w-full items-center gap-2"},S={class:"w-0 flex-1"},O=(0,r._)("i",{class:"fas fa-dice pr-1.5 text-gray-200"},null,-1),L={class:"w-5"},P={class:"flex w-0 flex-1 items-baseline justify-center text-gray-200"},N=(0,r._)("i",{class:"fas fa-scroll-old"},null,-1),R={class:"pl-2 text-white"},B=(0,r._)("span",{class:"pr-2 text-sm"},"/10",-1);function M(e,t,n,l,u,h){var M=(0,r.up)("base-window-controls"),H=(0,r.up)("match-oppo-info"),q=(0,r.up)("tracker-deck-lib"),G=(0,r.up)("deck-detail");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r.Wm)(M,{canClose:!1,canShrink:!0,playerName:u.oppoName,playerRank:h.oppoInfo.rank,playerLP:h.oppoInfo.lp,titleType:"match"},null,8,["playerName","playerRank","playerLP"]),(0,r._)("div",i,[h.isLoading?((0,r.wg)(),(0,r.iD)("div",s,(0,o.zw)(e.$t("loading.readyToRock")),1)):(0,r.kq)("",!0),h.isLoading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",{class:(0,o.C_)(["flex-1 cursor-pointer rounded-lg bg-gray-700 py-0.5 text-center text-sm hover:bg-gray-500 hover:text-white 2xs:text-base",{"bg-gray-500 text-gray-100":this.currentTab==u.TABS.oppo}]),onClick:t[0]||(t[0]=function(e){return h.switchTab(u.TABS.oppo)})},d,2),(0,r._)("div",{class:(0,o.C_)(["flex-1 cursor-pointer rounded-lg bg-gray-700 py-0.5 text-center text-sm hover:bg-gray-500 hover:text-white 2xs:text-base",{"bg-gray-500 text-gray-100":this.currentTab==u.TABS.my}]),onClick:t[1]||(t[1]=function(e){return h.switchTab(u.TABS.my)})},p,2),(0,r._)("div",{class:(0,o.C_)(["flex-1 cursor-pointer rounded-lg bg-gray-700 py-0.5 text-center text-sm hover:bg-gray-500 hover:text-white 2xs:text-base",{"bg-gray-500 text-gray-100":this.currentTab==u.TABS.grave}]),onClick:t[2]||(t[2]=function(e){return h.switchTab(u.TABS.grave)})},f,2)])),(0,r._)("div",g,[this.currentTab!=u.TABS.oppo||h.isLoading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",m,[u.matchInfos.length<=0?((0,r.wg)(),(0,r.iD)("div",y,(0,o.zw)(h.loadingOppoText),1)):(0,r.kq)("",!0),u.matchInfos&&u.matchInfos.length>0?((0,r.wg)(),(0,r.iD)("div",v,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.matchInfos,(function(e,t){return(0,r.wg)(),(0,r.j4)(H,{key:e.opponentName,opponentName:e.opponentName,rounds:e.rounds,time:e.time,startTime:e.startTime,matches:e.matches,winrate:e.winrate,badges:e.badge,opponentDeck:e.opponentDeck,deck:e.deckCode,total:h.matchTotalNum,history:e.history,expanded:e.expanded,onOpen:function(e){return h.onMatchOppoOpen(t)}},null,8,["opponentName","rounds","time","startTime","matches","winrate","badges","opponentDeck","deck","total","history","expanded","onOpen"])})),128))])):(0,r.kq)("",!0)])),this.currentTab!=u.TABS.oppo||h.isLoading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",b,[(0,r.Wm)(q)])),this.currentTab!=u.TABS.grave||h.isLoading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",k,[(0,r._)("div",w,[x,(0,r.Uk)(" "+(0,o.zw)(e.$t("tracker.tabs.oppoPlayed")),1)]),(0,r.Wm)(G,{deck:u.oppoGraveCode,baseDeck:u.oppoGraveCode,showCopy:!1,extra:u.oppoGraveExtraCards},null,8,["deck","baseDeck","extra"])])),this.currentTab!=u.TABS.grave||h.isLoading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",C,[(0,r._)("div",T,[I,(0,r.Uk)(" "+(0,o.zw)(e.$t("tracker.tabs.myPlayed")),1)]),(0,r.Wm)(G,{baseDeck:u.myPlayedCode,showCopy:!1,extra:u.myPlayedExtraCards},null,8,["baseDeck","extra"])])),this.currentTab!=u.TABS.my||h.isLoading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",A,[(0,r.Wm)(G,{deck:u.currentDeckCode,baseDeck:u.startingDeckCode,showCopy:!1,onCard:h.onCardHover},null,8,["deck","baseDeck","onCard"])]))],512),D,h.isLoading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",_,[(0,r._)("div",E,[(0,r._)("div",S,[(0,r._)("div",{class:(0,o.C_)(["flex items-center justify-center transition-opacity",{"opacity-100":u.showCardProb,"opacity-0":!u.showCardProb}])},[O,(0,r._)("div",L,(0,o.zw)(u.cardProb)+"%",1)],2)]),(0,r._)("div",P,[N,(0,r._)("span",R,(0,o.zw)(u.cardsInHandNum),1),B])])]))])])}var H=n(95082),q=(n(69826),n(41539),n(68309),n(92222),n(74916),n(15306),n(26699),n(32023),n(38862),n(56977),n(23123),n(47042),n(49963)),G={class:"mb-1.5 flex w-full flex-col rounded-md bg-gray-800 px-2 py-1 2xs:mb-2"},Z=(0,r._)("div",{class:"text-gray-200"},[(0,r._)("i",{class:"fas fa-grip-horizontal"})],-1),W={class:"bg-gray-800"},$={class:"2cs:text-sm pt-1 pl-1 text-xs text-gray-200"},j=(0,r._)("i",{class:"fas fa-history pr-1"},null,-1),Q={class:"flex flex-wrap gap-x-1 gap-y-1.5 px-1 pb-2 pt-2"},F={class:"flex flex-wrap gap-x-1 gap-y-1.5 px-1 pb-2 pt-2"},V={class:"flex items-baseline gap-x-1.5 whitespace-nowrap pb-1 text-xs text-gray-200 2xs:text-sm"},z={class:""},U={class:""},Y={class:"w-full"};function K(e,t,n,a,i,s){var c=(0,r.up)("tooltip"),l=(0,r.up)("deck-preview"),d=(0,r.up)("deck-detail");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",G,[(0,r._)("div",{class:"flex items-baseline gap-1.5 text-sm 2xs:gap-2 2xs:text-base",style:(0,o.j5)({color:s.winRateColor})},[(0,r._)("div",null,(0,o.zw)(e.$t("matches.winRate",{num:(100*s.winRate).toFixed(0)})),1),(0,r.Wm)(c,{placement:"bottom",allowedPlacements:["bottom"]},{float:(0,r.w5)((function(t){return[(0,r._)("div",{class:(0,o.C_)(["pointer-events-none z-10 w-full px-2 transition-opacity",{"opacity-0":!t.visible,"opacity-100":t.visible}])},[(0,r._)("div",W,[(0,r._)("div",$,[j,(0,r.Uk)((0,o.zw)(e.$t("str.history")),1)]),(0,r._)("div",Q,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.history.split(""),(function(e,t){return(0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("div",{class:(0,o.C_)(["h-2 w-2 rounded 2xs:h-3 2xs:w-3",{"bg-gray-500":"E"==e,"bg-red-500":"L"==e,"bg-sky-400":"W"==e}]),style:(0,o.j5)({opacity:1-.7*t/n.total})},null,6)])})),128))])])],2)]})),default:(0,r.w5)((function(){return[Z]})),_:1})],4),(0,r._)("div",F,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.history.split("").slice(0,10),(function(e,t){return(0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("div",{class:(0,o.C_)(["h-2 w-2 rounded 2xs:h-3 2xs:w-3",{"bg-gray-500":"E"==e,"bg-red-500":"L"==e,"bg-sky-400":"W"==e}]),style:(0,o.j5)({opacity:1-.7*t/10})},null,6)])})),128))]),(0,r._)("div",V,[(0,r._)("div",z,(0,o.zw)(s.gamesString),1),(0,r._)("div",U,(0,o.zw)(s.timeString),1)]),(0,r._)("div",Y,[(0,r.Wm)(l,{onClick:s.showDeck,clickToShow:!1,class:"w-full gap-0.5 py-1 text-xs hover:bg-white/10 2xs:gap-1 2xs:py-1.5 2xs:text-sm",deck:n.deck},null,8,["onClick","deck"])])]),(0,r.Wm)(q.uT,{name:"height"},{default:(0,r.w5)((function(){return[n.expanded?((0,r.wg)(),(0,r.j4)(d,{key:0,baseDeck:n.deck,hideNum:!0},null,8,["baseDeck"])):(0,r.kq)("",!0)]})),_:1})])}n(9653),n(4723);var J=n(66516),X=n(67161),ee=n(86933),te=n(2262),ne=n(34878),re=n(45557),oe={props:{placement:{type:String,default:"top"},allowedPlacements:{type:Array,default:function(){return["top","bottom"]}}},setup:function(e,t){t.attrs;var n=t.slots,o=((0,te.iH)(1),(0,r.h)("div",n.default()),(0,te.iH)(null)),a=(0,te.iH)(null),i=(0,te.iH)(!1),s=function(){i.value=!0},c=function(){i.value=!1},l=function(){(0,ne.oo)(o.value,a.value,{strategy:"fixed",placement:e.placement,middleware:[(0,re.X5)({allowedPlacements:e.allowedPlacements}),(0,re.uY)()]}).then((function(e){var t=e.x,n=e.y;e.placement;Object.assign(a.value.style,{left:"".concat(t,"px"),top:"".concat(n,"px")})}))};return(0,r.bv)((function(){l()})),(0,r.ic)((function(){l()})),function(){return[(0,r.h)(n.default()[0],{ref:function(e){return o.value=e},onMouseenter:s,onMouseleave:c}),(0,r.h)(n.float({visible:i.value})[0],{style:"position:fixed;",ref:function(e){return a.value=e}})]}}};const ae=oe;var ie=ae,se={components:{DeckDetail:J.Z,DeckPreview:X.Z,Tooltip:ie},mounted:function(){this.subscribeData()},data:function(){return{visibleDeck:0}},props:{opponentName:String,rounds:Number,deck:String,opponentDeck:String,time:String,startTime:String,matches:Number,badges:Array,total:Number,history:String,expanded:Boolean},computed:{timeString:function(){var e,t=new Date(this.startTime),n=Date.now()-t,r=n/1e3,o=r/60,a=o/60,i=a/24;return e=r<60?this.$t("str.times.sec",{t:Math.floor(r)}):o<60?this.$t("str.times.min",{t:Math.floor(o)}):a<24?1==Math.floor(a)?this.$t("str.times.hour",{t:Math.floor(a)}):this.$t("str.times.hours",{t:Math.floor(a)}):i<7?1==Math.floor(i)?this.$t("str.times.day",{t:Math.floor(i)}):this.$t("str.times.days",{t:Math.floor(i)}):t.toLocaleDateString(),e},opponentLink:function(){return"/profile/"+this.opponentName},won:function(){return!0},useRate:function(){return Math.floor(this.matches/this.total*100)},winRateColor:function(){return(0,ee.ik)(this.winRate)},winRate:function(){return this.wonNum/this.matches},wonNum:function(){return(this.history.match(/W/g)||[]).length},lostNum:function(){return(this.history.match(/L/g)||[]).length},gamesString:function(){return this.matches>1?this.$t("matches.games",{num:this.matches}):this.$t("matches.game",{num:this.matches})}},emits:["open"],methods:{showDeck:function(){this.$emit("open")},showOpponentDeck:function(){2==this.visibleDeck?this.visibleDeck=0:this.visibleDeck=2},subscribeData:function(){},isWonGame:function(e){var t=e-1;return!(t>=this.history.length)&&"W"==this.history[t]},isPlayedGame:function(e){var t=e-1;return!(t>=this.history.length)&&("W"==this.history[t]||"L"==this.history[t])}}},ce=n(83744);const le=(0,ce.Z)(se,[["render",K]]);var de=le,ue=n(9669),pe=n.n(ue),he=n(71763),fe=(n(8670),n(99981)),ge=n.n(fe),me=(n(22335),n(86245));var ye=n(32449),ve=n(7069),be=n(52843),ke=3e5;X.Z,J.Z,be.t,ye.Z,ve.Z;var we=n(4083),xe=n(63452),Ce=n(48534),Te=(n(35666),n(60385)),Ie={class:"px-1 pb-1 text-xs text-gray-200 2xs:text-sm"},Ae=(0,r._)("i",{class:"fas fa-star pr-1"},null,-1),De=["onClick"],_e={class:"mx-1 mb-1.5 bg-gray-800 pb-1.5 2xs:mb-2"},Ee={class:"overflow-x-hidden text-ellipsis whitespace-nowrap px-2 pt-2 pb-1 text-sm text-gray-100"},Se={class:"px-2 pb-1 text-xs text-gray-200"},Oe={class:"px-2"},Le={setup:function(e){var t=(0,te.iH)([]);function n(e){var t=(0,Te.u)();t.decks[e].expanded=!t.decks[e].expanded}return(0,r.bv)((0,Ce.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=(0,Te.u)(),e.next=3,n.initStore();case 3:t.value=n.decks;case 4:case"end":return e.stop()}}),e)})))),function(e,a){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",Ie,[Ae,(0,r.Uk)((0,o.zw)(e.$t("decklib.title")),1)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.value,(function(e,t){return(0,r.wg)(),(0,r.iD)("div",{key:e.date,onClick:function(e){return n(t)}},[(0,r._)("div",_e,[(0,r._)("div",Ee,(0,o.zw)(e.title),1),(0,r._)("div",Se,(0,o.zw)((0,te.SU)(ye.Z)(new Date(e.date),"HH:mm | yyyy-MM-dd")),1),(0,r._)("div",Oe,[(0,r.Wm)(X.Z,{class:"w-full gap-0.5 py-1 text-xs hover:bg-white/10 2xs:gap-1 2xs:py-1.5 2xs:text-sm",deck:e.code},null,8,["deck"])])]),(0,r.Wm)(q.uT,{name:"height"},{default:(0,r.w5)((function(){return[e.expanded?((0,r.wg)(),(0,r.j4)(J.Z,{key:0,baseDeck:e.code},null,8,["baseDeck"])):(0,r.kq)("",!0)]})),_:2},1024)],8,De)})),128))])}}};const Pe=Le;var Ne,Re,Be=Pe,Me=n(45477),He=n(58238),qe=100,Ge=1e3,Ze=["americas","europe","asia","sea"],We={oppo:0,my:1,grave:3,decklib:4},$e={base:0,decklib:1,deckdetail:2},je=("".concat(xe.E.API_WEB,"/error"),{components:{BaseWindowControls:he.Z,MatchOppoInfo:de,DeckDetail:J.Z,TrackerDeckLib:Be},data:function(){return{rawDataString:null,matchInfos:[],request:null,deckCode:null,titleType:null,currentTab:We.my,LAYERS:$e,TABS:We,tabScrollTops:[],cardsInHandNum:null,currentDeckCode:null,startingDeckCode:null,oppoGraveCode:null,myPlayedCode:null,oppoPinnedId:null,startingExtraCards:null,myGraveExtraCards:null,myPlayedExtraCards:null,oppoGraveExtraCards:null,oppoName:null,oppoRank:null,oppoLp:null,requestOpponentHistoryError:null,isLoadingOpponentHistory:!1,lorRunning:!1,currentLayer:0,showCardProb:!1,cardProb:null}},computed:(0,H.Z)((0,H.Z)({},(0,me.rn)(we.P,["leaderboard","leaderboardLoading"])),{},{oppoInfo:function(){return this.oppoLeaderboard?{rank:this.oppoLeaderboard.rank,lp:this.oppoLeaderboard.lp}:{rank:null,lp:null}},isLoading:function(){return!this.currentDeckCode&&!this.startingDeckCode&&(!(this.matchInfos.length>0)&&(null==this.oppoName||""==this.oppoName||0==this.matchInfos.length))},oppoLeaderboard:function(){var e=this;if(!this.oppoName)return null;var t=Ze.indexOf(this.server);if(t>=0){console.log("Leaderboard access from deck tracker");var n=this.leaderboard;if(n&&n[t])return n[t].find((function(t){return t.name==e.oppoName}))}return null},loadingOppoText:function(){return this.requestOpponentHistoryError?this.$t("loading.nohistory"):this.isLoadingOpponentHistory?this.$t("loading.history"):this.$t("loading.nohistory")},matchTotalNum:function(){return this.matchInfos.reduce((function(e,t){return e+t.matches}),0)}}),mounted:function(){var e=this;console.log("Page Deck Mounted"),this.IS_ELECTRON&&(this.initPortNum(),this.initUILocale(),window.ipcRenderer.on("request-test-history",(function(t){e.requestTestOppoHistory()}))),this.requestStatusInfo(),this.requestTrackInfo()},methods:(0,H.Z)((0,H.Z)((0,H.Z)({},(0,me.nv)(xe.E,["changeLocale","initPortNum"])),(0,me.nv)(we.P,["fetchLeaderboard"])),{},{onMatchOppoOpen:function(e){this.matchInfos[e].expanded=!this.matchInfos[e].expanded},initUILocale:function(){var e=this;window.ipcRenderer.send("request-store","ui-locale"),window.ipcRenderer.on("reply-store-ui-locale",(function(t,n){n&&e.$i18n&&e.$i18n.locale&&(e.$i18n.locale=n,console.log("Change locale to",n))})),window.ipcRenderer.on("to-change-locale",(function(t,n){e.$i18n.locale=n,console.log("Changing locale to",n)}))},hideWindow:function(){window.hideWindow&&window.hideWindow()},makeWindowVisible:function(){window.makeVisible&&window.makeVisible()},switchTab:function(e){var t=this;this.currentTab!=e&&(this.IS_ELECTRON&&this.sendUserEvent({category:"Tracker Event",action:"Switch Tab",label:"From: "+this.currentTab+" | To: "+e,value:null}),this.tabScrollTops[this.currentTab]=this.$refs.scrollContainer.scrollTop,this.currentTab=e,setTimeout((function(){t.$refs.scrollContainer.scrollTo({top:t.tabScrollTops[t.currentTab],left:0,behavior:"smooth"})}),10))},requestOpponentHistory:function(){var e=this;this.isLoadingOpponentHistory=!0,this.requestOpponentHistoryError=null;var t="".concat(this.API_WEB,"/history/").concat(this.server,"/").concat(this.oppoName);console.log("Request Opponent History, api:",t),pe().get(t).then((function(t){console.log("Opponent Data",t.data),e.isLoadingOpponentHistory=!1,e.processOpponentHistory(t.data)})).catch((function(t){pe().isCancel(t)?console.log("Request cancelled"):(console.log("error",t),e.requestOpponentHistoryError=t)}))},requestTestOppoHistory:function(){var e=this,t="".concat(this.API_WEB,"/history/americas/storm");pe().get(t).then((function(t){console.log("Opponent Data",t.data),e.processOpponentHistory(t.data)})).catch((function(e){pe().isCancel(e)?console.log("Request cancelled"):console.log("error",e)}))},requestStatusInfo:function(){var e=this;if(this.IS_ELECTRON)Re=Date.now(),pe().get("".concat(this.apiBase,"/status")).then((function(t){var n=Date.now()-Re;if(t&&t.data){var r=t.data;if(r.server&&e.server!=r.server){e.server=r.server;var o=Ze.indexOf(e.server);e.fetchLeaderboard(o)}if(r.language){var a=r.language.replace("-","_").toLowerCase();e.locale!=a&&(console.log("Switch Locale",e.locale,a),e.changeLocale(a))}}else console.log("/status parse data error");Ge>n?setTimeout(e.requestStatusInfo,Ge-n):setTimeout(e.requestStatusInfo,100)})).catch((function(t){pe().isCancel(t)?console.log("Request cancelled"):(console.log("error",t),setTimeout(e.requestStatusInfo,100))}));else{var t=He;this.server=t.server;var n=Ze.indexOf(this.server);if(n>=0&&this.fetchLeaderboard(n),t.language){var r=t.language.replace("-","_").toLowerCase();this.locale!=r&&(console.log("Switch Locale",this.locale,r),this.changeLocale(r))}}},requestOppoInfo:function(){this.requestOpponentHistory()},requestTrackInfo:function(){var e=this;this.IS_ELECTRON?(Ne=Date.now(),pe().get("".concat(this.apiBase,"/track")).then((function(t){t&&t.data?e.processTrackInfo(t.data):console.log("/track parse data error");var n=Date.now()-Ne;qe>n?setTimeout(e.requestTrackInfo,qe-n):setTimeout(e.requestTrackInfo,100)})).catch((function(t){console.log("error",t);var n=Date.now()-Ne;qe>n?setTimeout(e.requestTrackInfo,qe-n):setTimeout(e.requestTrackInfo,100)}))):setTimeout(this.processTrackInfo(Me),1500)},processTrackInfo:function(e){if(e.positional_rectangles&&e.positional_rectangles.OpponentName){var t=e.positional_rectangles.OpponentName;t.includes("_")?(this.oppoName="AI",this.makeWindowVisible()):this.oppoName&&this.oppoName.toLowerCase()==t.toLowerCase()||(console.log("Track Info:",t),this.oppoName=t,this.requestOppoInfo(),this.makeWindowVisible())}else this.oppoName=null,this.oppoRank=null,this.oppoLp=null,this.matchInfos=[];if(e.deck_tracker){var n,r,o,a;e.deck_tracker.deckCode&&(this.makeWindowVisible(),null==this.startingDeckCode&&this.handleGameStart());try{n=ge().encodeCardsObj(e.deck_tracker.cardsInDeck),r=ge().encodeCardsObj(e.deck_tracker.myGraveyard),o=ge().encodeCardsObj(e.deck_tracker.myPlayedCards),a=ge().encodeCardsObj(e.deck_tracker.oppoGraveCards),this.startingExtraCards=n.extra,this.myGraveExtraCards=r.extra,this.myPlayedExtraCards=o.extra,this.oppoGraveExtraCards=a.extra,this.startingDeckCode=e.deck_tracker.deckCode||n.code,this.currentDeckCode=e.deck_tracker.currentDeckCode||n.code,this.oppoGraveCode=e.deck_tracker.opGraveyardCode||a.code,this.myPlayedCode=e.deck_tracker.myPlayedCardsCode||o.code,this.cardsInHandNum=e.deck_tracker.cardsInHandNum}catch(i){console.log(i)}}else null!=this.startingDeckCode&&(console.log("Handle Game End"),this.handleGameEnd()),this.startingDeckCode=null,this.currentDeckCode=null,this.myPlayedCode=null,this.oppoGraveCode=null,this.cardsInHandNum=null,this.startingExtraCards=null,this.myGraveExtraCards=null,this.myPlayedExtraCards=null,this.oppoGraveExtraCards=null,this.hideWindow()},processOpponentHistory:function(e){console.log("Process Json Data"),JSON.stringify(this.matchInfos)!=JSON.stringify(e)&&(console.log("New Match Info"),window.showWindow&&window.showWindow(),this.switchTab(We.oppo)),this.matchInfos=e},handleGameEnd:function(){this.IS_ELECTRON&&window.ipcRenderer.send("game-end-trigger")},handleGameStart:function(){this.IS_ELECTRON&&window.ipcRenderer.send("game-start-trigger")},onCardHover:function(e){e?(this.showCardProb=!0,this.cardProb=(e.count/e.all*100).toFixed(1)):this.showCardProb=!1},onOpenDecklib:function(){this.currentLayer=$e.decklib},setLayer:function(e){this.currentLayer=e},onLayerBack:function(){this.currentLayer-=1}})});const Qe=(0,ce.Z)(je,[["render",M]]);var Fe=Qe,Ve=n(78220),ze=(0,Ve.ZP)(Fe);ze.mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],a=e[d][2];for(var s=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return r[e]}}));return i["default"]=function(){return r},n.d(a,i),a}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"-legacy."+{68:"67c578ce",278:"c6d1baba",420:"68351bed",531:"893e3714",702:"94a6c0a1",733:"b2936e11",840:"53297e78",978:"b0d3a499",1043:"fd628ee5",1156:"ce8113a7",1244:"6a937bb1",1288:"c2bc5265",1359:"bc3a3e33",1715:"66b765a9",1730:"144dde25",1778:"a25e99fd",1796:"b3a4f8ca",1823:"a0225522",1842:"8f042041",1982:"edd0e745",2138:"998e1b1c",2166:"59a375ea",2258:"08da6c16",2357:"10249c8a",2435:"2a7466fe",2445:"7fb0e3e6",2477:"31170e41",2682:"0c7cc09f",2768:"2750a6ea",2931:"d0bf8a76",3037:"f63ca8b2",3185:"2016224d",3247:"056a4e30",3376:"1a788d54",3382:"4519f4fe",3417:"de764759",3432:"5bd39030",3594:"2d4858aa",3648:"f8ab9672",4113:"2845187d",4159:"d032e9da",4169:"d9cbb449",4541:"5e5724c6",4565:"acf70cea",4568:"b2512313",4587:"45774007",4788:"d8854f23",4813:"84cdd382",4885:"afad4d15",5065:"4a80fc15",5159:"93c09a7c",5168:"58b080b4",5306:"a71d98cf",5322:"7addaab0",5417:"a05056b2",5426:"ddf3c4b0",5478:"0ccf7f55",5561:"b43290eb",5595:"622e3302",5774:"a819879f",5834:"2d3c920f",5862:"bd6581ff",5877:"ab1c5b2b",6049:"369a7cb9",6078:"ee71a4ce",6139:"b3b5d8ff",6212:"3d6f331d",6240:"bbad8651",6309:"cea906c3",6360:"ccae670e",6751:"380a1570",6899:"c3c24626",6932:"6514df2e",7119:"65793738",7133:"668d4283",7793:"1a125ce6",7817:"ed1b80ea",7886:"acb22d71",7908:"bc2a1312",8087:"15be279f",8107:"d66d074a",8133:"4d207ee1",8248:"6638aa07",8586:"c14c56b2",8698:"9a0a04e9",8831:"60752ddd",8917:"cffc2f5e",9026:"d9371db2",9040:"157fb588",9165:"50aee004",9267:"488cabfc",9287:"c23ea044",9321:"796c0259",9444:"694381cf",9545:"4ca29bde",9556:"7c19ce9f",9637:"964b404e",9727:"816832e8"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="lor-master-tracker:";n.l=function(r,o,a,i){if(e[r])e[r].push(o);else{var s,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+a){s=u;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[o];var p=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.j=2303}(),function(){n.p=""}(),function(){var e={2303:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=a);var i=n.p+n.u(t),s=new Error,c=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}};n.l(i,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,i=r[0],s=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var d=c(n)}for(t&&t(r);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[i[l]]=0;return n.O(d)},r=self["webpackChunklor_master_tracker"]=self["webpackChunklor_master_tracker"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[4998,3064],(function(){return n(34069)}));r=n.O(r)})();
//# sourceMappingURL=deck-legacy.b3c87e89.js.map